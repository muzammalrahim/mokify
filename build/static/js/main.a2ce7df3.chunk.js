(this.webpackJsonpmokify=this.webpackJsonpmokify||[]).push([[0],{22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n.n(o),l=n(13),a=n.n(l),s=(n(22),n(14)),c=n(15),d=n(17),r=n(16),u=n(2),m=n.n(u),h=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,JSON.parse(localStorage.getItem("persist:v705-demo1-auth"))&&JSON.parse(localStorage.getItem("persist:v705-demo1-auth")).token);"Token ".concat(h&&h.replaceAll('"',""));var f=n(0),v=function(e){Object(d.a)(n,e);var t=Object(r.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={data:[],offset:0},o}return Object(c.a)(n,[{key:"componentWillMount",value:function(){window.addEventListener("scroll",this.loadMore)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.loadMore)}},{key:"getData",value:function(){var e=this;m.a.get('https://api.mukify.com/graphiql/?query=query{localizedFlatItem(id:%20%22%22searchString: "", offset: '.concat(this.state.offset,", first:20){edges{node{id\n        basicInfo {\n          name\n          shortDescription\n          description\n        }\n        additionalInfo {\n          heading\n          numRows\n          numColumns\n          rows {\n            objectType\n            objectId\n            columns\n            id\n          }\n        }\n        itemImagesSet {\n          smallThumbUrl\n          mediumThumbUrl\n          fullsizeUrl\n        }}}}}")).then((function(t){e.setState({data:t.data.data.localizedFlatItem.edges,offset:e.state.offset+1})})).catch((function(e){console.log(e.message)}))}},{key:"loadMore",value:function(){var e,t=this;(console.log(window.innerHeight+document.documentElement.scrollTop),console.log(document.scrollingElement.scrollHeight),Math.ceil(window.innerHeight+document.documentElement.scrollTop)===document.scrollingElement.scrollHeight)&&m.a.get('https://api.mukify.com/graphiql/?query=query{localizedFlatItem(id:%20%22%22searchString: "", offset: '.concat((null===this||void 0===this||null===(e=this.state)||void 0===e?void 0:e.offset)?this.state.offset:1,", first:20){edges{node{id\n        basicInfo {\n          name\n          shortDescription\n          description\n        }\n        additionalInfo {\n          heading\n          numRows\n          numColumns\n          rows {\n            objectType\n            objectId\n            columns\n            id\n          }\n        }\n        itemImagesSet {\n          smallThumbUrl\n          mediumThumbUrl\n          fullsizeUrl\n        }}}}}")).then((function(e){var n=t.state.data,o=e.data.data.localizedFlatItem.edges,i=n.concat(o);t.setState({data:i,offset:t.state.offset+1})})).catch((function(e){console.log(e.message)}))}},{key:"handleScroll",value:function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight)return this.loadMore();console.log("Fetch more list items!")}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,o=t.offset;return console.log(n,o),Object(f.jsxs)("div",{className:"row",children:[n.map((function(e){var t,n,o,i,l,a,s;return Object(f.jsxs)("div",{className:"col-md-3 col-sm-6 col-xm-1 col-lg-3",children:[Object(f.jsx)("img",{className:"card-img-top",src:null===e||void 0===e||null===(n=e.node)||void 0===n||null===(o=n.itemImagesSet[0])||void 0===o?void 0:o.mediumThumbUrl,alt:"Card image cap"}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("small",{className:"text-muted",children:null===e||void 0===e||null===(i=e.node)||void 0===i||null===(l=i.basicInfo)||void 0===l?void 0:l.name}),Object(f.jsx)("h5",{className:"card-title",children:null===e||void 0===e||null===(a=e.node)||void 0===a||null===(s=a.basicInfo)||void 0===s?void 0:s.shortDescription}),Object(f.jsx)("p",{className:"card-text"})]})]},null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id)})),Object(f.jsx)("div",{className:"load",onScroll:function(){return e.handleScroll()}})]})}}]),n}(o.Component);var g=function(){return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{children:"Mukify project"}),Object(f.jsx)(v,{})]})},j=(n(42),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,l=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),l(e),a(e)}))});a.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),j()}},[[43,1,2]]]);
//# sourceMappingURL=main.a2ce7df3.chunk.js.map