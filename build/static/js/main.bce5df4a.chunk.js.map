{"version":3,"sources":["helper/api.js","component/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["Authorization","process","REACT_APP_API_URL","JSON","parse","localStorage","getItem","token","replaceAll","Header","state","data","offset","getData","axios","get","then","res","setState","localizedFlatItem","edges","catch","err","console","log","message","loadMore","window","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","Math","ceil","newData","totalData","concat","addEventListener","this","removeEventListener","offsetHeight","className","map","nod","src","node","itemImagesSet","mediumThumbUrl","alt","basicInfo","name","shortDescription","id","onScroll","handleScroll","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bce5df4a.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\nconst Authorization =\r\n  JSON.parse(localStorage.getItem(\"persist:v705-demo1-auth\")) &&\r\n  JSON.parse(localStorage.getItem(\"persist:v705-demo1-auth\")).token;\r\nexport const headers = {\r\n  \"Content-Type\": \"application/json\",\r\n  Authorization: `Token ${Authorization && Authorization.replaceAll('\"', \"\")}`,\r\n};\r\n\r\nexport function list(endpoint, params = {}) {\r\n  let config = {\r\n    headers: headers,\r\n    params: params,\r\n  };\r\n  return axios.get(API_URL + endpoint, config).then((response) => {\r\n    if (response.data.results !== undefined) {\r\n      response.extra_data = {\r\n        count: response.data.count,\r\n        next: response.data.next,\r\n        previous: response.data.previous,\r\n      };\r\n      response.data = response.data.results;\r\n    }\r\n    return response;\r\n  });\r\n}\r\n\r\nexport function put(endpoint, data) {\r\n  let config = {\r\n    headers: headers,\r\n  };\r\n  return axios.put(API_URL + endpoint, data, config);\r\n}\r\nexport function patch(endpoint, data) {\r\n  let config = {\r\n    headers: headers,\r\n  };\r\n  return axios.patch(API_URL + endpoint, data, config);\r\n}\r\n\r\nexport function post(endpoint, data) {\r\n  let config = {\r\n    headers: headers,\r\n  };\r\n  return axios.post(API_URL + endpoint, data, config);\r\n}\r\n\r\nexport function del(endpoint, data = {}) {\r\n  let config = {\r\n    headers: headers,\r\n    data: data,\r\n  };\r\n  return axios.delete(API_URL + endpoint, config);\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { list } from '../helper/api'\r\nimport axios from 'axios'\r\n\r\nexport default class Header extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.state = {\r\n  //     data: [],\r\n  //     offset: 0,\r\n  //   };\r\n  // }\r\n\r\n  state = {\r\n    data: [],\r\n    offset:0,\r\n  }\r\n\r\n  componentWillMount() {\r\n    window.addEventListener(\"scroll\", this.loadMore);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.loadMore);\r\n  }\r\n\r\n   getData=()=> {\r\n    axios\r\n      .get(\r\n        `https://api.mukify.com/graphiql/?query=query{localizedFlatItem(id:%20%22%22searchString: \"\", offset: ${this.state.offset}, first:20){edges{node{id\r\n        basicInfo {\r\n          name\r\n          shortDescription\r\n          description\r\n        }\r\n        additionalInfo {\r\n          heading\r\n          numRows\r\n          numColumns\r\n          rows {\r\n            objectType\r\n            objectId\r\n            columns\r\n            id\r\n          }\r\n        }\r\n        itemImagesSet {\r\n          smallThumbUrl\r\n          mediumThumbUrl\r\n          fullsizeUrl\r\n        }}}}}`\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          data: res.data.data.localizedFlatItem.edges,\r\n          offset: this.state.offset + 1,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  }\r\n\r\n  loadMore = ()=> {\r\n    console.log(window.innerHeight + document.documentElement.scrollTop);\r\n    console.log(document.scrollingElement.scrollHeight);\r\n    if (\r\n      Math.ceil(window.innerHeight + document.documentElement.scrollTop) ===\r\n      document.scrollingElement.scrollHeight\r\n    ) {\r\n      axios\r\n        .get(\r\n          `https://api.mukify.com/graphiql/?query=query{localizedFlatItem(id:%20%22%22searchString: \"\", offset: ${this?.state?.offset ? this.state.offset : 1}, first:20){edges{node{id\r\n        basicInfo {\r\n          name\r\n          shortDescription\r\n          description\r\n        }\r\n        additionalInfo {\r\n          heading\r\n          numRows\r\n          numColumns\r\n          rows {\r\n            objectType\r\n            objectId\r\n            columns\r\n            id\r\n          }\r\n        }\r\n        itemImagesSet {\r\n          smallThumbUrl\r\n          mediumThumbUrl\r\n          fullsizeUrl\r\n        }}}}}`\r\n        )\r\n        .then((res) => {\r\n          let data = this.state.data\r\n          let newData = res.data.data.localizedFlatItem.edges;\r\n          let totalData = data.concat(newData);\r\n          this.setState({\r\n            data: totalData,\r\n            offset: this.state.offset + 1,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n        });\r\n    }\r\n    \r\n  }\r\n  handleScroll() {\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop !==\r\n      document.documentElement.offsetHeight\r\n    )\r\n      return this.loadMore();\r\n    console.log(\"Fetch more list items!\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    const { data, offset } = this.state;\r\n    console.log(data, offset);\r\n    return (\r\n      <div className=\"row\">\r\n        {data.map((nod) => {\r\n          return (\r\n            <div\r\n              className=\"col-md-3 col-sm-6 col-xm-1 col-lg-3\"\r\n              key={nod?.node?.id}\r\n            >\r\n              <img\r\n                className=\"card-img-top\"\r\n                src={nod?.node?.itemImagesSet[0]?.mediumThumbUrl}\r\n                alt=\"Card image cap\"\r\n              />\r\n              <div className=\"card-body\">\r\n                <small className=\"text-muted\">\r\n                  {nod?.node?.basicInfo?.name}\r\n                </small>\r\n                <h5 className=\"card-title\">\r\n                  {nod?.node?.basicInfo?.shortDescription}\r\n                </h5>\r\n\r\n                <p className=\"card-text\"></p>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"load\" onScroll={() => this.handleScroll()}></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Home from './component/Home'\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h1>Mukify project</h1>\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}